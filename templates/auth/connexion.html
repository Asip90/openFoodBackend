{% extends 'auth/base.html' %}

{% load static %}
{% block title %}Connexion - WAPay{% endblock %}

{% block content %}
<section class="min-h-screen flex flex-col md:flex-row relative">

  <!-- Image gauche -->
  <div class="md:w-1/2 hidden md:flex items-center justify-center bg-blue-100">
    <img src="{% static 'img/hero.png' %}" alt="Connexion WAPay" class="w-3/4 h-auto object-contain rounded-lg">
  </div>

  <!-- Formulaire droite -->
  <div class="md:w-1/2 flex items-center justify-center p-6 md:p-12 bg-white">
    <div class="w-full max-w-md text-center">
      
      <!-- Logo et texte -->
      <img src="{% static 'img/logo.png' %}" alt="Logo PAYO" class="h-16 w-auto mx-auto mb-4">
      <h3 class="text-2xl font-inter font-bold text-gray-700 mb-2">Bon retour !</h3>

      <h2 class="text-4xl font-inter font-extrabold text-primary mb-6">Bienvenue sur Openfood
</h2>

      <form method="post" class="space-y-4 text-left">
        {% csrf_token %}
        
        <div>
          <label class="block text-gray-700 mb-2">Email</label>
          <input type="email" name="email" placeholder="Entrez votre email"
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" required>
        </div>

        <div>
          <label class="block text-gray-700 mb-2">Mot de passe</label>
          <input type="password" name="password" placeholder="Entrez votre mot de passe"
                 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary" required>
        </div>

        <button type="submit"
                class="w-full py-3 bg-primary text-white font-semibold rounded-lg hover:bg-secondary transition">
          Se connecter
        </button>
      </form>

      <p class="text-center mt-6 text-gray-600">
        Pas encore de compte ? <a href="{% url 'inscription' %}" class="text-primary font-semibold hover:text-secondary">Sâ€™inscrire</a>
      </p>
    </div>
  </div>

  <!-- Toast Messages -->
  <div class="fixed top-5 right-5 space-y-3 z-50">
    {% if messages %}
        {% for message in messages %}
            {% if message.tags == "success" %}
                <div class="px-4 py-3 rounded-lg bg-green-500 text-white shadow-md">
                    {{ message }}
                </div>
            {% elif message.tags == "error" or message.tags == "danger" %}
                <div class="px-4 py-3 rounded-lg bg-red-500 text-white shadow-md">
                    {{ message }}
                </div>
            {% elif message.tags == "warning" %}
                <div class="px-4 py-3 rounded-lg bg-yellow-400 text-gray-900 shadow-md">
                    {{ message }}
                </div>
            {% else %}
                <div class="px-4 py-3 rounded-lg bg-blue-500 text-white shadow-md">
                    {{ message }}
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}
  </div>

</section>

{% endblock %}
